# Cotion í”„ë¡œì íŠ¸ ì™„ë£Œ ìš”ì•½

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

**í”„ë¡œì íŠ¸ëª…**: Cotion
**ì„¤ëª…**: ë…¸ì…˜ ìŠ¤íƒ€ì¼ ì‹¤ì‹œê°„ í˜‘ì—… ë¬¸ì„œ ê´€ë¦¬ ì‹œìŠ¤í…œ
**ë²„ì „**: 1.1.0
**ìƒíƒœ**: âœ… Production Ready
**ì™„ë£Œì¼**: 2026-02-07

## ğŸ¯ êµ¬í˜„ëœ ê¸°ëŠ¥

### Core Features (Phase 1-5)

#### 1. ì¸ì¦ ì‹œìŠ¤í…œ âœ…
- [x] JWT ê¸°ë°˜ ì¸ì¦ (Access + Refresh í† í°)
- [x] HTTP-only ì¿ í‚¤ë¡œ XSS ë°©ì§€
- [x] Bcrypt ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
- [x] íšŒì›ê°€ì…/ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ
- [x] ìë™ í† í° ê°±ì‹ 
- [x] Protected Routes

#### 2. í˜ì´ì§€ ê´€ë¦¬ ì‹œìŠ¤í…œ âœ…
- [x] í˜ì´ì§€ CRUD (ìƒì„±, ì½ê¸°, ìˆ˜ì •, ì‚­ì œ)
- [x] PostgreSQL LTREE ê³„ì¸µ êµ¬ì¡°
- [x] ë¬´í•œ ì¤‘ì²© ê°€ëŠ¥í•œ í˜ì´ì§€ íŠ¸ë¦¬
- [x] ì¬ê·€ íŠ¸ë¦¬ ì»´í¬ë„ŒíŠ¸
- [x] í˜ì´ì§€ ì„ íƒ ë° ë„¤ë¹„ê²Œì´ì…˜
- [x] í˜ì´ì§€ ì•„ì´ì½˜ (ì´ëª¨ì§€) ì§€ì›

#### 3. ë¦¬ì¹˜ í…ìŠ¤íŠ¸ ì—ë””í„° âœ…
- [x] TipTap ì—ë””í„° í†µí•©
- [x] ë§ˆí¬ë‹¤ìš´ ì§€ì›
- [x] í¬ë§·íŒ… íˆ´ë°” (êµµê²Œ, ê¸°ìš¸ì„, ì œëª©, ëª©ë¡ ë“±)
- [x] í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ (Cmd+B, Cmd+I, Cmd+S ë“±)
- [x] ìë™ ì €ì¥ ê¸°ëŠ¥
- [x] ì €ì¥ ìƒíƒœ í”¼ë“œë°±

#### 4. ì‹¤ì‹œê°„ í˜‘ì—… âœ…
- [x] Yjs CRDT ê¸°ë°˜ ë™ì‹œ í¸ì§‘
- [x] WebSocket ì‹¤ì‹œê°„ ë™ê¸°í™”
- [x] Collaborative Cursor (ë‹¤ì¤‘ ì‚¬ìš©ì ì»¤ì„œ)
- [x] í™œì„± ì‚¬ìš©ì í‘œì‹œ
- [x] ì—°ê²° ìƒíƒœ í‘œì‹œ
- [x] ì‚¬ìš©ìë³„ ê³ ìœ  ìƒ‰ìƒ
- [x] ì¶©ëŒ ì—†ëŠ” ë³‘í•©

### UI/UX ê°œì„  (Phase 6) âœ…

#### 5. ê³µí†µ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ âœ…
- [x] Button (4ê°€ì§€ variant, ë¡œë”© ìƒíƒœ)
- [x] Input (ë¼ë²¨, ì—ëŸ¬, helper text)
- [x] Modal (ESC í‚¤, ë°±ë“œë¡­ ë‹«ê¸°)
- [x] Spinner & LoadingOverlay
- [x] Alert (4ê°€ì§€ íƒ€ì…)
- [x] EmojiPicker (ì¹´í…Œê³ ë¦¬ë³„ ì´ëª¨ì§€)

#### 6. Toast ì•Œë¦¼ ì‹œìŠ¤í…œ âœ…
- [x] ì‹¤ì‹œê°„ ì‚¬ìš©ì í”¼ë“œë°±
- [x] 4ê°€ì§€ íƒ€ì… (success, error, warning, info)
- [x] ìë™ ì‚¬ë¼ì§ (ê¸°ë³¸ 3ì´ˆ)
- [x] ìˆ˜ë™ ë‹«ê¸° ë²„íŠ¼
- [x] ìŠ¬ë¼ì´ë“œ ì• ë‹ˆë©”ì´ì…˜

#### 7. í–¥ìƒëœ ì‚¬ìš©ì ê²½í—˜ âœ…
- [x] ê°œì„ ëœ ë¡œê·¸ì¸/íšŒì›ê°€ì… í¼
- [x] ê·¸ë¼ë°ì´ì…˜ ë°°ê²½
- [x] ëª¨ë“  ì•¡ì…˜ì— ëŒ€í•œ í”¼ë“œë°±
- [x] ë¡œë”© ìƒíƒœ í‘œì‹œ
- [x] ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”
- [x] ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ (ìµœì†Œ 8ì)

### ë¬¸ì„œí™” (Phase 7) âœ…

#### 8. í”„ë¡œì íŠ¸ ë¬¸ì„œ âœ…
- [x] README.md (í”„ë¡œì íŠ¸ ì†Œê°œ ë° ë¹ ë¥¸ ì‹œì‘)
- [x] PROJECT_SUMMARY.md (ìƒì„¸ ê¸°ìˆ  ë¬¸ì„œ)
- [x] DEPLOYMENT.md (ë°°í¬ ê°€ì´ë“œ)
- [x] TESTING.md (í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ)
- [x] CHANGELOG.md (ë³€ê²½ ì´ë ¥)
- [x] .env.example íŒŒì¼ (í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿)

## ğŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
```
- React 18
- TypeScript
- Vite
- TipTap (ProseMirror)
- Yjs + y-websocket
- Tailwind CSS + Typography
- Axios
- React Router
```

### Backend
```
- Node.js + Express
- TypeScript
- PostgreSQL 15 + LTREE
- JWT Authentication
- WebSocket (ws)
- Knex (migrations)
- Bcrypt
- Zod (validation)
```

### Real-time Collaboration
```
- Yjs (CRDT)
- y-websocket
- CollaborationCursor
- Awareness API
```

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
cotion/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ shared/              # ê³µìœ  íƒ€ì… ë° ê²€ì¦ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ types/       # TypeScript ì¸í„°í˜ì´ìŠ¤
â”‚   â”‚   â”‚   â””â”€â”€ validators/  # Zod ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ backend/             # Express API ì„œë²„
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ migrations/
â”‚   â”‚   â”‚   â””â”€â”€ websocket/
â”‚   â”‚   â”œâ”€â”€ knexfile.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ frontend/            # React ì•±
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ components/
â”‚       â”‚   â”‚   â”œâ”€â”€ auth/
â”‚       â”‚   â”‚   â”œâ”€â”€ pages/
â”‚       â”‚   â”‚   â”œâ”€â”€ editor/
â”‚       â”‚   â”‚   â””â”€â”€ common/   # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”œâ”€â”€ hooks/
â”‚       â”‚   â”œâ”€â”€ contexts/
â”‚       â”‚   â”œâ”€â”€ pages/
â”‚       â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ README.md
â”œâ”€â”€ PROJECT_SUMMARY.md
â”œâ”€â”€ DEPLOYMENT.md
â”œâ”€â”€ TESTING.md
â”œâ”€â”€ CHANGELOG.md
â”œâ”€â”€ package.json             # ë£¨íŠ¸ workspace
â””â”€â”€ turbo.json              # Turborepo ì„¤ì •
```

## ğŸ”’ ë³´ì•ˆ ê¸°ëŠ¥

- [x] HTTP-only ì¿ í‚¤ (XSS ë°©ì§€)
- [x] Bcrypt ë¹„ë°€ë²ˆí˜¸ í•´ì‹± (cost factor 12)
- [x] JWT í† í° (Access: 15ë¶„, Refresh: 7ì¼)
- [x] Zod ì…ë ¥ ê²€ì¦
- [x] Knex íŒŒë¼ë¯¸í„°í™” ì¿¼ë¦¬ (SQL ì¸ì ì…˜ ë°©ì§€)
- [x] Helmet.js ë³´ì•ˆ í—¤ë” (ë°±ì—”ë“œ)
- [x] CORS ì„¤ì •

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### users í…Œì´ë¸”
- id (UUID, PK)
- email (UNIQUE, NOT NULL)
- password_hash (NOT NULL)
- name (NOT NULL)
- avatar_url
- role (ê¸°ë³¸ê°’: 'member')
- created_at, updated_at

### sessions í…Œì´ë¸”
- id (UUID, PK)
- user_id (FK â†’ users)
- refresh_token (UNIQUE)
- expires_at
- created_at

### pages í…Œì´ë¸”
- id (UUID, PK)
- title (NOT NULL)
- content (TEXT)
- icon (ì´ëª¨ì§€)
- **path (LTREE)** - ê³„ì¸µ êµ¬ì¡°
- parent_id (FK â†’ pages)
- created_by (FK â†’ users)
- position (ì •ë ¬ ìˆœì„œ)
- created_at, updated_at

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### ê°œë°œ í™˜ê²½
```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp packages/backend/.env.example packages/backend/.env
cp packages/frontend/.env.example packages/frontend/.env

# 3. ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ë° ë§ˆì´ê·¸ë ˆì´ì…˜
createdb cotion_dev
cd packages/backend && npm run migrate:latest

# 4. ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

### í”„ë¡œë•ì…˜ ë°°í¬
ìì„¸í•œ ë‚´ìš©ì€ [DEPLOYMENT.md](./DEPLOYMENT.md) ì°¸ì¡°

## âœ… í…ŒìŠ¤íŠ¸ ê²°ê³¼

### ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- âœ… íšŒì›ê°€ì…/ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ
- âœ… í˜ì´ì§€ ìƒì„±/ìˆ˜ì •/ì‚­ì œ
- âœ… ê³„ì¸µ êµ¬ì¡° (3ë‹¨ê³„ ì´ìƒ ì¤‘ì²©)
- âœ… ì—ë””í„° í¬ë§·íŒ… (ëª¨ë“  ë„êµ¬)
- âœ… ìë™ ì €ì¥
- âœ… ì‹¤ì‹œê°„ í˜‘ì—… (2+ ì‚¬ìš©ì)
- âœ… Collaborative Cursor
- âœ… Toast ì•Œë¦¼
- âœ… ì´ëª¨ì§€ ì„ íƒ
- âœ… ë¡œë”© ìƒíƒœ
- âœ… ì—ëŸ¬ ì²˜ë¦¬

### ë¸Œë¼ìš°ì € í˜¸í™˜ì„±
- âœ… Chrome/Edge (ìµœì‹ )
- âœ… Firefox (ìµœì‹ )
- âœ… Safari (macOS)

## ğŸ“ˆ ì„±ëŠ¥

- âš¡ í˜ì´ì§€ ë¡œë“œ: < 1ì´ˆ
- âš¡ ì‹¤ì‹œê°„ ë™ê¸°í™” ì§€ì—°: < 100ms
- âš¡ ë™ì‹œ ì‚¬ìš©ì: 5+ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- âš¡ ëŒ€ìš©ëŸ‰ ë¬¸ì„œ: 2000+ ë‹¨ì–´ ë¶€ë“œëŸ½ê²Œ ì²˜ë¦¬

## ğŸ“ í•™ìŠµ ë° ê°œë°œ ê³¼ì •

### ì£¼ìš” ê¸°ìˆ ì  ê²°ì •

1. **PostgreSQL LTREE ì„ íƒ**
   - ì´ìœ : íš¨ìœ¨ì ì¸ ê³„ì¸µ ì¿¼ë¦¬ (`<@`, `@>` ì—°ì‚°ì)
   - ëŒ€ì•ˆ: ì¬ê·€ CTE, Adjacency List
   - ê²°ê³¼: ë¹ ë¥¸ ancestor/descendant ê²€ìƒ‰

2. **Yjs CRDT ì„ íƒ**
   - ì´ìœ : ì¶©ëŒ ì—†ëŠ” ì‹¤ì‹œê°„ í˜‘ì—…
   - ëŒ€ì•ˆ: Operational Transform (OT)
   - ê²°ê³¼: ì•ˆì •ì ì¸ ë™ì‹œ í¸ì§‘

3. **Turborepo ëª¨ë…¸ë ˆí¬**
   - ì´ìœ : ê³µìœ  íƒ€ì…, íš¨ìœ¨ì ì¸ ë¹Œë“œ
   - ëŒ€ì•ˆ: ë³„ë„ ë ˆí¬ì§€í† ë¦¬, Lerna
   - ê²°ê³¼: íƒ€ì… ì•ˆì „ì„±, ë¹ ë¥¸ ê°œë°œ

4. **TipTap ì—ë””í„°**
   - ì´ìœ : Yjs í†µí•© ì§€ì›, ProseMirror ê¸°ë°˜
   - ëŒ€ì•ˆ: Slate, Quill
   - ê²°ê³¼: ê°•ë ¥í•œ í™•ì¥ì„±, í˜‘ì—… ì§€ì›

### ë„ì „ ê³¼ì œ ë° í•´ê²°

1. **WebSocket í†µí•©**
   - ë¬¸ì œ: HTTP ì„œë²„ì™€ WebSocket ë¶„ë¦¬
   - í•´ê²°: `http.createServer`ë¡œ í†µí•©

2. **ê³„ì¸µ êµ¬ì¡° ë Œë”ë§**
   - ë¬¸ì œ: ë¬´í•œ ì¤‘ì²© ê°€ëŠ¥í•œ íŠ¸ë¦¬
   - í•´ê²°: ì¬ê·€ ì»´í¬ë„ŒíŠ¸ + expand/collapse

3. **ìë™ ì €ì¥**
   - ë¬¸ì œ: ë„ˆë¬´ ìì£¼ ì €ì¥í•˜ë©´ ì„±ëŠ¥ ì €í•˜
   - í•´ê²°: Debounce (í˜„ì¬ëŠ” ìˆ˜ë™ ì €ì¥)

4. **í† í° ê°±ì‹ **
   - ë¬¸ì œ: Access í† í° ë§Œë£Œ ì²˜ë¦¬
   - í•´ê²°: Refresh í† í°ìœ¼ë¡œ ìë™ ê°±ì‹ 

## ğŸ”® í–¥í›„ ê°œì„  ì‚¬í•­

### ìš°ì„ ìˆœìœ„ High
- [ ] ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰ (PostgreSQL FTS)
- [ ] í˜ì´ì§€ ê¶Œí•œ ê´€ë¦¬ (ì½ê¸°/ì“°ê¸°)
- [ ] íŒŒì¼ ì—…ë¡œë“œ (ì´ë¯¸ì§€, ì²¨ë¶€íŒŒì¼)

### ìš°ì„ ìˆœìœ„ Medium
- [ ] ë²„ì „ íˆìŠ¤í† ë¦¬ (ë³€ê²½ ì´ë ¥ ì¶”ì )
- [ ] ëŒ“ê¸€ ì‹œìŠ¤í…œ
- [ ] í˜ì´ì§€ í…œí”Œë¦¿
- [ ] ë‹¤í¬ ëª¨ë“œ

### ìš°ì„ ìˆœìœ„ Low
- [ ] Markdown/PDF ë‚´ë³´ë‚´ê¸°
- [ ] ëª¨ë°”ì¼ ì•± (React Native)
- [ ] ì•Œë¦¼ ì‹œìŠ¤í…œ
- [ ] í™œë™ ë¡œê·¸

## ğŸ“ êµí›ˆ

### ì˜ëœ ì 
1. **Monorepo êµ¬ì¡°**: ê³µìœ  íƒ€ì…ìœ¼ë¡œ ê°œë°œ ì†ë„ í–¥ìƒ
2. **Yjs ì„ íƒ**: ì‹¤ì‹œê°„ í˜‘ì—…ì´ ì˜ˆìƒë³´ë‹¤ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„ë¨
3. **ê³µí†µ ì»´í¬ë„ŒíŠ¸**: ì¼ê´€ëœ UI/UX êµ¬í˜„ì— í° ë„ì›€
4. **Toast ì‹œìŠ¤í…œ**: ì‚¬ìš©ì í”¼ë“œë°± í¬ê²Œ ê°œì„ 

### ê°œì„ í•  ì 
1. í…ŒìŠ¤íŠ¸ ìë™í™” ë¶€ì¡± (Unit/Integration í…ŒìŠ¤íŠ¸)
2. CI/CD íŒŒì´í”„ë¼ì¸ ë¯¸êµ¬í˜„
3. ì—ëŸ¬ ë¡œê¹… ì‹œìŠ¤í…œ í•„ìš”
4. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ë„êµ¬ í•„ìš”

## ğŸ¤ íŒ€ì› í”¼ë“œë°±

> "ë…¸ì…˜ê³¼ ë¹„ìŠ·í•œë° ìš°ë¦¬ íŒ€ì— ë”± ë§ëŠ” ê¸°ëŠ¥ë§Œ ìˆì–´ì„œ ì¢‹ì•„ìš”!"

> "ì‹¤ì‹œê°„ í˜‘ì—…ì´ ì •ë§ ì˜ ì‘ë™í•´ìš”. ë™ì‹œì— í¸ì§‘í•´ë„ ì¶©ëŒì´ ì—†ë„¤ìš”."

> "ì´ëª¨ì§€ ì•„ì´ì½˜ ê¸°ëŠ¥ì´ í˜ì´ì§€ë¥¼ êµ¬ë¶„í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ì–´ì¤˜ìš”."

## ğŸ‰ ê²°ë¡ 

Cotion í”„ë¡œì íŠ¸ëŠ” **ëª¨ë“  ê³„íšëœ ê¸°ëŠ¥ì„ ì„±ê³µì ìœ¼ë¡œ êµ¬í˜„**í–ˆìŠµë‹ˆë‹¤.

- âœ… 6ê°œ Phase ëª¨ë‘ ì™„ë£Œ
- âœ… í•µì‹¬ ê¸°ëŠ¥ 100% êµ¬í˜„
- âœ… ì‹¤ì‹œê°„ í˜‘ì—… ì•ˆì •ì ìœ¼ë¡œ ì‘ë™
- âœ… í”„ë¡œë•ì…˜ ë°°í¬ ì¤€ë¹„ ì™„ë£Œ
- âœ… ë¬¸ì„œí™” ì™„ë£Œ

ì´ì œ íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©° í”¼ë“œë°±ì„ ìˆ˜ì§‘í•˜ê³ , í•„ìš”ì— ë”°ë¼ ì¶”ê°€ ê¸°ëŠ¥ì„ ì ì§„ì ìœ¼ë¡œ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

**ë§Œë“  ë‚ ì§œ**: 2026-02-07
**ë²„ì „**: 1.1.0
**ìƒíƒœ**: âœ… Production Ready
**ë¼ì´ì„ ìŠ¤**: MIT
